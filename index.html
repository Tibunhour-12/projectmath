<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        primary: ['Poppins', 'sans-serif'],
                    }
                }
            }
        };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@500;600&display=swap" rel="stylesheet">
    <title>ITE Cryptography</title>
</head>
<body class="bg-white dark:bg-gray-900 transition-colors duration-300 font-primary">
    <header>
        <nav class="bg-white dark:bg-slate-800 border-b dark:border-slate-700 px-6 py-4 h-[100px] flex items-center shadow-2xl">
            <div class="w-full mx-auto flex items-center justify-around">
                <div class="w-[100px] h-[100px]">
                    <img src="/Img/nobackground.png" alt="">
                </div>
                <div class="flex items-center space-x-8">
                    <div class="relative group">
                        <button id="dropdownBtn" class="flex items-center space-x-1 text-slate-700 dark:text-slate-200 hover:text-blue-500 transition hover:scale-105 duration-400">
                            <span>Classical Cryptography</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div id="dropdownMenu" class="hidden absolute left-0 mt-2 w-48 bg-white dark:bg-slate-700 rounded-lg shadow-xl border border-slate-100 dark:border-slate-600 overflow-hidden z-50">
                            <a href="#caesar" class="block px-4 py-2 text-sm text-slate-600 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-slate-600">Caesar Cipher</a>
                            <a href="#ShiftCipher" class="block px-4 py-2 text-sm text-slate-600 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-slate-600">General Shift Cipher</a>
                        </div>
                    </div>
                    <a href="#rsa" class="text-slate-700 dark:text-slate-200 hover:text-blue-500 transition hover:scale-105 duration-400">RSA Cryptography</a>
                </div>
                <button id="themeToggle" class="p-2 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-yellow-400 focus:outline-none">
                    <svg id="moonIcon" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                    <svg id="sunIcon" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path></svg>
                </button>
            </div>
        </nav>
    </header>
    
    <main class="p-6">
        <!-- Caesar Cipher Section -->
        <section class="h-full flex flex-col items-center mb-5" id="caesar">
            <div class="w-[900px] bg-slate-700 dark:bg-slate-800 rounded-2xl shadow-lg p-4">
                <p class="text-white text-[18px] font-bold text-center mb-4">Caesar Cipher</p>
                <div class="flex gap-4 items-start flex-row-reverse">
                    <div class="flex-shrink-0">
                        <img class="h-[400px] w-[300px] object-cover rounded-lg" src="/Img/cas.jpg" alt="Caesar Cipher">
                    </div>
                    <div class="text-white text-[15px] indent-8">
                        <p class="mb-4">
                            One of the earliest known uses of cryptography was by
                            <strong>Julius Caesar</strong>. He made messages secret by
                            shifting each letter three letters forward in the alphabet.
                            For instance, using this scheme the letter <strong>B</strong>
                            is shifted to <strong>E</strong> and the letter
                            <strong>X</strong> is shifted to <strong>A</strong>.
                        </p>
                        <p>
                            To express Caesar's encryption process mathematically, first
                            replace each letter by an integer from <strong>0 to 25</strong>,
                            equal to one less than its position in the alphabet.
                            For example, replace <strong>A</strong> by 0,
                            <strong>K</strong> by 10, and <strong>Z</strong> by 25.
                            Caesar's encryption method can be represented by the function
                            <strong>f(p) = (p + 3) mod 26</strong>.
                            In the encrypted version of the message, the letter represented
                            by <strong>p</strong> is replaced with the letter represented
                            by <strong>(p + 3) mod 26</strong>.
                            To decrypt the message, we simply reverse the process by
                            subtracting 3 and taking modulo 26 again.
                        </p>
                    </div>
                </div>
            </div>
            <div class="flex justify-center items-center">
                <input type="text" class="w-[900px] h-[100px] bg-slate-700 dark:bg-slate-800 rounded-2xl shadow-lg flex justify-start mt-5 p-3 text-white" placeholder="Enter your plain text...">
            </div>
            <div class="flex justify-center items-center mt-2.5">
                <button class="ml-4 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">Encrypt</button>
                <button class="ml-4 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg">Decrypt</button>
            </div>
        </section>

        <!-- General Shift Cipher Section -->
        <section class="h-full flex flex-col items-center mb-5" id="ShiftCipher">
            <div class="w-[900px] bg-slate-700 dark:bg-slate-800 rounded-2xl shadow-lg p-4">
                <p class="text-white text-[18px] font-bold text-center mb-4">General Shift Cipher</p>
                <div class="flex gap-4 items-center">
                    <div class="flex-shrink-0">
                        <img class="h-[300px] w-[200px] object-cover rounded-lg" src="/Img/cas.jpg" alt="Caesar Cipher">
                    </div>
                    <div class="text-white text-[15px] indent-8">
                        <p>
                            The General Shift Cipher extends the Caesar Cipher by allowing
                            flexibility in the shift value. Rather than always shifting
                            letters by three positions, it permits any integer amount to be
                            used as the shift. This added flexibility makes the cipher more
                            adaptable and slightly harder to break than the traditional
                            Caesar Cipher.
                        </p>
                    </div>
                </div>
            </div>
            <div class="flex justify-center items-center">
                <input type="text" class="w-[900px] h-[100px] bg-slate-700 dark:bg-slate-800 rounded-2xl shadow-lg flex justify-start mt-5 p-3 text-white" placeholder="Enter your plain text...">
            </div>
            <div class="flex justify-center items-center mt-2.5">
                <button class="ml-4 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">Encrypt</button>
                <button class="ml-4 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg">Decrypt</button>
            </div>
            <div class="flex justify-center items-center">
                <input type="text" class="w-[900px] h-[100px] bg-slate-700 dark:bg-slate-800 rounded-2xl shadow-lg flex justify-start mt-5 p-3 text-white" placeholder="Enter your key text...">
            </div>
            <div class="flex justify-center items-center mt-2.5">
                <button class="ml-4 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">Encrypt</button>
                <button class="ml-4 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg">Decrypt</button>
            </div>
        </section>

        <!-- RSA Cryptography Section -->
        <section class="h-full flex flex-col items-center p-4" id="rsa">
            <!-- RSA Explanation -->
            <div class="w-[900px] bg-slate-700 dark:bg-slate-800 rounded-2xl shadow-lg p-4 mb-6">
                <p class="text-white text-[20px] font-bold text-center mb-4">RSA Cryptography</p>
                <div class="text-white text-[18px] indent-8">
                    <p>RSA is named after its inventors: Rivest, Shamir, and Adleman. It is an asymmetric (public-key) encryption algorithm.</p>
                    <p>It uses two keys:</p>
                    <ul class="list-disc ml-5">
                        <li>Public key is used for encryption</li>
                        <li>Private key is used for decryption</li>
                    </ul>
                    <p class="mt-1.5 text-red-500">RSA Key Generation Steps</p>
                    <ol class="list-decimal ml-5">
                        <li>Choose two large prime numbers <strong>p</strong> and <strong>q</strong>.</li>
                        <li>Compute <strong>n = p √ó q</strong>.</li>
                        <li>Compute <strong>œÜ(n) = (p ‚àí 1)(q ‚àí 1)</strong>.</li>
                        <li>Choose public exponent <strong>e</strong> such that 1 &lt; e &lt; œÜ(n) and <strong>gcd(e, œÜ(n)) = 1</strong>.</li>
                        <li>Compute private exponent <strong>d</strong> such that <strong>d √ó e ‚â° 1 (mod œÜ(n))</strong>.</li>
                    </ol>
                    <p><strong>Public Key:</strong> (n, e)</p>
                    <p><strong>Private Key:</strong> (n, d)</p>
                    <p class="mt-1.5 text-red-500">RSA Encryption</p>
                    <p>Message is converted to a number <strong>M</strong>.</p>
                    <h2 class="text-white">Encryption Formula</h2>
                    <p><strong>C = M<sup>e</sup> mod n</strong></p>
                    <h3 class="text-white">Where:</h3>
                    <ul class="list-disc ml-6">
                        <li><strong>M</strong> = original message number</li>
                        <li><strong>e</strong> = public key exponent</li>
                        <li><strong>n</strong> = modulus (from the key generation step)</li>
                        <li><strong>C</strong> = the encrypted number</li>
                    </ul>
                    <p class="mt-1.5 text-red-500">RSA Decryption</p>
                    <p>Ciphertext <strong>C</strong> is decrypted using the private key.</p>
                    <h2 class="text-white">Decryption Formula</h2>
                    <p><strong>M = C<sup>d</sup> mod n</strong></p>
                    <h3 class="text-white">Notes:</h3>
                    <p>Only the private key holder can decrypt the message.</p>
                    <p class="mt-1.5 text-red-500">RSA Example (Simplified)</p>
                    <p class="underline mt-1.5 mb-1.5">Key Generation</p>
                    <ul class="list-disc ml-6">
                        <li>Choose <strong>p = 5</strong> and <strong>q = 11</strong></li>
                        <li>Compute <strong>n = p √ó q = 5 √ó 11 = 55</strong></li>
                        <li>Compute <strong>œÜ(n) = (p ‚àí 1)(q ‚àí 1) = (5-1)(11-1) = 40</strong></li>
                        <li>Choose public exponent <strong>e = 3</strong> such that 1 &lt; e &lt; œÜ(n) and gcd(e, œÜ(n)) = 1</li>
                        <li>Compute private exponent <strong>d = 27</strong> such that d √ó e ‚â° 1 (mod œÜ(n))</li>
                    </ul>
                    <p class="mt-1.5 text-red-500">Encryption</p>
                    <p>Encrypt <strong>M = 7</strong> using public key (<strong>n = 55</strong>, <strong>e = 3</strong>):</p>
                    <p><strong>C = M<sup>e</sup> mod n = 7<sup>3</sup> mod 55 = 343 mod 55 = 13</strong></p>
                    <p class="mt-1.5 text-red-500">Decryption</p>
                    <p>Decrypt <strong>C = 13</strong> using private key (<strong>n = 55</strong>, <strong>d = 27</strong>):</p>
                    <p><strong>M = C<sup>d</sup> mod n = 13<sup>27</sup> mod 55 = 7</strong></p>
                </div>
            </div>

            <!-- Prime P Input -->
            <div class="flex justify-center items-center">
                <input id="prime1" type="text" class="w-[900px] h-[100px] bg-slate-700 dark:bg-slate-800 rounded-2xl shadow-lg flex justify-start mt-5 p-3 text-white" placeholder="Enter your prime P">
            </div>
            <div class="flex justify-center items-center">
                <p id="prime1Status" class="text-sm mt-1 text-gray-300">Enter a prime number</p>
            </div>

            <!-- Prime Q Input -->
            <div class="flex justify-center items-center">
                <input id="prime2" type="text" class="w-[900px] h-[100px] bg-slate-700 dark:bg-slate-800 rounded-2xl shadow-lg flex justify-start mt-5 p-3 text-white" placeholder="Enter your prime Q">
            </div>
            <div class="flex justify-center items-center">
                <p id="prime2Status" class="text-sm mt-1 text-gray-300">Enter a prime number</p>
            </div>

            <!-- Generate Button -->
            <div class="flex justify-center items-center mt-2.5">
                <button onclick="generateKeys()" class="ml-4 w-[100px] h-[50px] bg-blue-700 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">Next</button>
            </div>

            <!-- Key Output -->
            <div id="keyOutput" class="mt-4 hidden w-[900px]">
                <div class="bg-slate-700 dark:bg-slate-800 p-4 rounded-2xl shadow-lg">
                    <p class="font-mono text-sm text-white">üîë Public Key (n, e): <span id="publicKey" class="font-bold text-green-400"></span></p>
                    <p class="font-mono text-sm text-white">üîê Private Key (n, d): <span id="privateKey" class="font-bold text-red-400"></span></p>
                    <p class="text-xs text-gray-300 mt-2">n = p √ó q | œÜ(n) = (p-1)(q-1) | e √ó d ‚â° 1 mod œÜ(n)</p>
                </div>
            </div>

            <!-- Encryption and Decryption Grid -->
            <div class="w-[900px] grid md:grid-cols-2 gap-6 mt-6">
                <!-- Encryption Section -->
                <div class="bg-slate-700 dark:bg-slate-800 rounded-2xl shadow-lg p-6">
                    <h2 class="text-xl font-semibold mb-4 text-blue-400">üìù Encryption</h2>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-300 mb-2">Select Public Key (e):</label>
                        <select id="publicKeySelect" class="w-full p-3 bg-slate-600 dark:bg-slate-700 rounded-lg shadow-lg text-white border border-gray-500">
                            <option value="" class="text-gray-300">Generate keys first</option>
                        </select>
                        <p class="text-xs text-gray-400 mt-1">Common values: 3, 17, 65537 (must be coprime with œÜ(n))</p>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-300 mb-2">Message to Encrypt:</label>
                        <input type="text" id="messageToEncrypt" class="w-full h-[60px] bg-slate-600 dark:bg-slate-700 rounded-lg shadow-lg p-3 text-white placeholder-gray-400" placeholder="Enter text (e.g., HELLO)" maxlength="20">
                        <p class="text-xs text-gray-400 mt-1">Simple: Only uppercase letters A-Z (no spaces)</p>
                    </div>
                    
                    <div class="flex justify-center items-center mt-2.5">
                        <button onclick="encryptMessage()" class="w-[120px] h-[50px] bg-blue-700 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition">üîí Encrypt</button>
                    </div>
                    
                    <div id="encryptionResult" class="mt-4 hidden">
                        <div class="bg-slate-600 dark:bg-slate-900 p-4 rounded-lg">
                            <p class="font-semibold text-white">Encrypted Result:</p>
                            <p id="ciphertext" class="font-mono text-lg break-all text-green-400"></p>
                            <p class="text-xs text-gray-300 mt-2">c = m^e mod n</p>
                        </div>
                    </div>
                </div>
                
                <!-- Decryption Section -->
                <div class="bg-slate-700 dark:bg-slate-800 rounded-2xl shadow-lg p-6">
                    <h2 class="text-xl font-semibold mb-4 text-green-400">üîì Decryption</h2>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-300 mb-2">Private Key (d):</label>
                        <input type="text" id="privateKeyInput" class="w-full h-[60px] bg-slate-600 dark:bg-slate-700 rounded-lg shadow-lg p-3 text-white placeholder-gray-400" placeholder="Enter private key d">
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-300 mb-2">Ciphertext (numbers separated by commas):</label>
                        <input type="text" id="ciphertextToDecrypt" class="w-full h-[60px] bg-slate-600 dark:bg-slate-700 rounded-lg shadow-lg p-3 text-white placeholder-gray-400" placeholder="e.g., 79, 82, 1515">
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-300 mb-2">Modulus (n):</label>
                        <input type="text" id="modulusForDecrypt" class="w-full h-[60px] bg-slate-600 dark:bg-slate-700 rounded-lg shadow-lg p-3 text-white placeholder-gray-400" placeholder="Enter n">
                    </div>
                    
                    <div class="flex justify-center items-center mt-2.5">
                        <button onclick="decryptMessage()" class="w-[120px] h-[50px] bg-green-700 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition">üîì Decrypt</button>
                    </div>
                    
                    <div id="decryptionResult" class="mt-4 hidden">
                        <div class="bg-slate-600 dark:bg-slate-900 p-4 rounded-lg">
                            <p class="font-semibold text-white">Decrypted Message:</p>
                            <p id="plaintext" class="font-mono text-lg text-green-400"></p>
                            <p class="text-xs text-gray-300 mt-2">m = c^d mod n</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Demo Section
            <div class="w-[900px] bg-slate-700 dark:bg-slate-800 rounded-2xl shadow-lg p-6 mt-6">
                <h2 class="text-xl font-semibold mb-2 text-white">üéØ Quick Demo (Try this example)</h2>
                <p class="text-sm text-gray-300 mb-4">Use these values to see how RSA works:</p>
                
                <div class="grid md:grid-cols-3 gap-4 text-sm">
                    <div class="bg-slate-600 dark:bg-slate-900 p-3 rounded-lg">
                        <span class="font-bold text-white">Key Generation:</span><br>
                        <span class="text-gray-300">p = 61, q = 53<br>n = 3233, œÜ(n) = 3120<br>e = 17, d = 2753</span>
                    </div>
                    <div class="bg-slate-600 dark:bg-slate-900 p-3 rounded-lg">
                        <span class="font-bold text-white">Encryption:</span><br>
                        <span class="text-gray-300">Message: "HELLO"<br>H(8) ‚Üí 8^17 mod 3233 = 79<br>E(5) ‚Üí 5^17 mod 3233 = 82</span>
                    </div>
                    <div class="bg-slate-600 dark:bg-slate-900 p-3 rounded-lg">
                        <span class="font-bold text-white">Decryption:</span><br>
                        <span class="text-gray-300">79^2753 mod 3233 = 8 ‚Üí "H"<br>82^2753 mod 3233 = 5 ‚Üí "E"</span>
                    </div>
                </div>
            </div> -->
        </section>
    </main>

    <!-- Fix the script path - use correct relative path -->
    <script src="JS/Rsa.js"></script>
    
    <script>
        // Theme toggle functionality
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;
        const moonIcon = document.getElementById('moonIcon');
        const sunIcon = document.getElementById('sunIcon');

        themeToggle.addEventListener('click', () => {
            if (html.classList.contains('dark')) {
                html.classList.remove('dark');
                moonIcon.classList.add('hidden');
                sunIcon.classList.remove('hidden');
            } else {
                html.classList.add('dark');
                moonIcon.classList.remove('hidden');
                sunIcon.classList.add('hidden');
            }
        });

        // Dropdown functionality
        const dropdownBtn = document.getElementById('dropdownBtn');
        const dropdownMenu = document.getElementById('dropdownMenu');

        dropdownBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            dropdownMenu.classList.toggle('hidden');
        });

        document.addEventListener('click', () => {
            dropdownMenu.classList.add('hidden');
        });
    </script>
</body>
</html>